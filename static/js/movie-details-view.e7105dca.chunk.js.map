{"version":3,"file":"static/js/movie-details-view.e7105dca.chunk.js","mappings":"wSAAMA,EAAW,+BACXC,EAAU,mCAAhB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACd,OAAOV,EAAuB,GAAD,OACxBF,EADwB,qCACaC,IAIrC,SAASY,EAAiBC,GAC/B,OAAOZ,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,kBAC0Ba,EAD1B,+CAKxB,SAASC,EAAeC,GAC7B,OAAOd,EAAuB,GAAD,OACxBF,EADwB,kBACNgB,EADM,oBACQf,EADR,oBAKxB,SAASgB,EAAeD,GAC7B,OAAOd,EAAuB,GAAD,OACxBF,EADwB,kBACNgB,EADM,4BACgBf,EADhB,oBAKxB,SAASiB,EAAkBF,GAChC,OAAOd,EAAuB,GAAD,OACxBF,EADwB,kBACNgB,EADM,4BACgBf,EADhB,sB,iIClC/B,EAAyB,iCAAzB,EAAiE,+BAAjE,EAA6G,qC,SCavGkB,GAAgBC,EAAAA,EAAAA,OAAK,kBAAM,iCAC3BC,GAAcD,EAAAA,EAAAA,OAAK,kBAAM,iCAEhB,SAASE,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAsBC,EAAAA,EAAAA,MAAdzB,EAAR,EAAQA,IAAK0B,EAAb,EAAaA,KACPC,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBR,EAAAA,EAAAA,UAAS,KAAjC,eAAOS,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,GAAmBd,GAASe,MAAK,SAACZ,GAChCC,EAASD,QAEV,CAACH,IAUJ,OALAa,EAAAA,EAAAA,YAAU,WACJJ,EAASO,OACXJ,EAAQH,EAASO,MAAML,QAExB,CAACF,KAEF,8BACGN,IACC,iCACE,mBAAQc,UAAWC,EAAUC,KAAK,SAASC,QAZpC,WACbb,EAAQc,KAAKV,IAWP,sBAGA,gBACEW,IAAG,yCAAoCnB,EAAMoB,aAC7CC,IAAKrB,EAAMsB,SAEb,wBAAKtB,EAAMsB,SACX,yCACc,0BAAOtB,EAAMuB,mBAE3B,sCACW,0BAAOvB,EAAMwB,eAExB,kCACS,KACP,0BAAOxB,EAAMyB,OAAOC,KAAI,SAACC,GAAD,OAAWA,EAAMC,QAAMC,KAAK,WAEtD,oDAEA,4BACE,SAAC,KAAD,CACEC,GAAE,UAAKrD,EAAL,SACFqC,UAAWC,EACXgB,gBAAiBhB,EAHnB,mBAOA,SAAC,KAAD,CACEe,GAAE,UAAKrD,EAAL,YACFqC,UAAWC,EACXgB,gBAAiBhB,EAHnB,yBASF,SAAC,EAAAiB,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAO9B,KAAI,UAAKA,EAAL,SAAX,UACE,SAACV,EAAD,CAAeI,QAASA,OAG1B,SAAC,KAAD,CAAOM,KAAI,UAAKA,EAAL,YAAX,UACE,SAACR,EAAD,CAAaE,QAASA","sources":["services/api.jsx","webpack://goit-react-hw-05-movies/./src/views/MovieDetailsView/MovieDetailsView.module.css?8dcd","views/MovieDetailsView/MovieDetailsView.jsx"],"sourcesContent":["const BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"d752e046a9268238157ca8971cc96b61\";\r\n\r\nasync function fetchWithErrorHandling(url = \"\", config = {}) {\r\n  const response = await fetch(url, config);\r\n  return response.ok  \r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"Not found\"));\r\n}\r\n\r\nexport function fetchTrendingMovies() {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\r\n  );\r\n}\r\n\r\nexport function fetchSearchQuery(searchQuery) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${searchQuery}&language=en-US&page=1&include_adult=false`\r\n  );\r\n}\r\n\r\nexport function fetchMovieById(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport function fetchMovieCast(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport function fetchMovieReviews(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetailsView_button__JOMcg\",\"link\":\"MovieDetailsView_link__boKUZ\",\"activeLink\":\"MovieDetailsView_activeLink__U6x9z\"};","import { useState, useEffect, lazy, Suspense } from 'react';\r\nimport {\r\n  useParams,\r\n  useLocation,\r\n  useHistory,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\nimport { NavLink } from 'react-router-dom'\r\nimport * as api from '../../services/api';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './MovieDetailsView.module.css';\r\n\r\nconst MovieCastView = lazy(() => import('../MovieCast/MovieCastView'));\r\nconst MovieReview = lazy(() => import('../MovieReview/MovieReviewsView'));\r\n\r\nexport default function MovieDetailsView() {\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const { url, path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [from, setFrom] = useState('/');\r\n\r\n  useEffect(() => {\r\n    api.fetchMovieById(movieId).then((movie) => {\r\n      setMovie(movie);\r\n    });\r\n  }, [movieId]);\r\n\r\n  const goBack = () => {\r\n    history.push(from);\r\n  };\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      setFrom(location.state.from);\r\n    }\r\n  }, [location]);\r\n  return (\r\n    <>\r\n      {movie && (\r\n        <>\r\n          <button className={s.button} type='button' onClick={goBack}>\r\n            Go back\r\n          </button>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\r\n            alt={movie.title}\r\n          />\r\n          <h2>{movie.title}</h2>\r\n          <p>\r\n            User Score: <span>{movie.vote_average}</span>\r\n          </p>\r\n          <p>\r\n            Overview <span>{movie.overview}</span>\r\n          </p>\r\n          <p>\r\n            Genres{' '}\r\n            <span>{movie.genres.map((genre) => genre.name).join(' ')}</span>\r\n          </p>\r\n          <h3>Additional information</h3>\r\n\r\n          <nav>\r\n            <NavLink\r\n              to={`${url}/cast`}\r\n              className={s.link}\r\n              activeClassName={s.activeLink}\r\n            >\r\n              Cast\r\n            </NavLink>\r\n            <NavLink\r\n              to={`${url}/reviews`}\r\n              className={s.link}\r\n              activeClassName={s.activeLink}\r\n            >\r\n              Reviews\r\n            </NavLink>\r\n          </nav>\r\n\r\n          <Suspense fallback={<Loader />}>\r\n            <Switch>\r\n              <Route path={`${path}/cast`}>\r\n                <MovieCastView movieId={movieId} />\r\n              </Route>\r\n\r\n              <Route path={`${path}/reviews`}>\r\n                <MovieReview movieId={movieId} />\r\n              </Route>\r\n            </Switch>\r\n          </Suspense>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovies","fetchSearchQuery","searchQuery","fetchMovieById","id","fetchMovieCast","fetchMovieReviews","MovieCastView","lazy","MovieReview","MovieDetailsView","movieId","useParams","useState","movie","setMovie","useRouteMatch","path","history","useHistory","location","useLocation","from","setFrom","useEffect","api","then","state","className","s","type","onClick","push","src","poster_path","alt","title","vote_average","overview","genres","map","genre","name","join","to","activeClassName","Suspense","fallback"],"sourceRoot":""}